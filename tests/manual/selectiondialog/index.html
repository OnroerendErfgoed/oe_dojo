<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Test SelectionDialog</title>
  <link rel="stylesheet" href="../../../resources/css/localTest.css" />

</head>

<body class="nihilo">
<div class="row">
  <div class="large-8 columns">
    <div id="widgetNode"></div>
  </div>
</div>

<!-- load Dojo -->
<script type="text/javascript" src="./selectionConfig.js">

</script>
<script type="text/javascript" src="../../../dojo/dojo.js"></script>
<script src="https://use.fontawesome.com/db4e5d4de9.js"></script>

<script>
  require([
    'oe_dojo/SelectionDialog',
    'oe_dojo/TrackableMemoryStore',
    'dojo/on',
    'oe_dojo/HandlerUtils',
    'dojo/domReady!'
  ], function (SelectionDialog, TrackableMemoryStore, on) {

    var data = [{ id: 1, onderwerp: 'test', 'datum_melden': '2017-01-16', archeoloog: 'Joske Vermeulen', erkenningsnummer: 'OE/ERK/Archeoloog/2015/00018'},
    { id: 2, onderwerp: 'test2', 'datum_melden': '2017-01-16', archeoloog: 'Joske Vermeulen', erkenningsnummer: 'OE/ERK/Archeoloog/2015/00018'}];

    var myData = [{ id: 1, onderwerp: 'myTest', 'datum_melden': '2017-01-16', archeoloog: 'Joske Vermeulen', erkenningsnummer: 'OE/ERK/Archeoloog/2015/00018'}];

    var dataStore = new TrackableMemoryStore({ data: data });
    var myDataStore = new TrackableMemoryStore({ data: myData });

    var selectionDialog = new SelectionDialog({
      dataStore: dataStore,
      myDataStore: myDataStore,
      showMyItemsFilter: true,
      title: 'Voeg een test toe',
      typeName: 'test',
      parentNode: this,
      selectionMode: 'multiple', //can select multiple values
      style: 'width: 1000px;'
    });

    selectionDialog.startup();
    selectionDialog.show();

    on(selectionDialog, 'selection.add', function(res) {
      console.log(res);
    });

  });

</script>

</body>
</html>